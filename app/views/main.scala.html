@(title: Html, nav: String = "")(content: Html)(implicit request: play.api.mvc.Request[AnyContent])

@* check for the pjax header *@
@if(request.headers.get("X-PJAX").isDefined) {
        <title>@title</title>

        @content
} else {
@* normal request, not pjax *@
<!DOCTYPE html>

<html>
    <head>
        <title>Form samples</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/bootstrap.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
        <script src="@routes.Assets.at("javascripts/jquery-1.7.1.min.js")" type="text/javascript"></script>
    </head>
    <body>
        <div class="topbar">
            <div class="fill">
                <div class="container">
                    <a class="brand js-pjax" data-pjax="#contentArea" href="@routes.Application.index()">Forms</a>
                    <ul class="nav">
                        <li class="@("active".when(nav == "signup"))">
                            <a class="js-pjax" data-pjax="#contentArea" href="@routes.SignUp.form">Sign up</a>
                        </li>
                        <li class="@("active".when(nav == "contact"))">
                            <a class="js-pjax" data-pjax="#contentArea" href="@routes.Contacts.form">Contacts</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">

            <div class="content">

                <div class="row">
                    <div id="contentArea" class="span14">
                        @content
                    </div>
                </div>
                
            </div>

            <footer>
                <p>
                    <a href="http://www.playframework.org">www.playframework.org</a>
                </p>
            </footer>

        </div>

        @* Load and call pjax lib *@
        <script src="@routes.Assets.at("javascripts/jquery.pjax.js")" type="text/javascript"></script>
        <script type="text/javascript">
            $(function(){
                //outline the anchors that have pjax enabled
                //$('a[data-pjax]').css("border", "3px double red");

                //link the items to pjax - uncomment and comment alternative to enable this one
                //$('a[data-pjax]').pjax();

                //alternative 1
                $('.js-pjax').pjax('#contentArea', { timeout: null, error: function(xhr, err){
                    alert('Something went wrong: ' + err)
                }});

            });
        </script>
    </body>
</html>
} @* End else *@

